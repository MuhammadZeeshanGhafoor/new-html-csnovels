<!DOCTYPE html>
<html lang="en">

<head>
    <link>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="./assets/Site-Favicon.svg" type="image/x-icon">

    <link href="./output.css" rel="stylesheet">
    <!-- Include Redux library via CDN -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/redux/4.1.1/redux.min.js"></script>
    <!-- <link rel="stylesheet" href="./styles.css" ></link> -->
    <link rel="shortcut icon" href="./assets/Site Favicon.svg" type="image/x-icon">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" />
    <title>CSnovels</title>
</head>

<body class="w-full flex flex-col items-center m-0 p-0">
    <div class="flex flex-col h-32 w-full border-b-[1px] border-gray-400 md:hidden ">
        <div class="flex items-center justify-between p-2 w-full h-2/3 ">
            <img src="./assets/logo_mobile.png" alt="logo_mobile" class="w-10 h-8">
            <div class="w-7/12">
                <input type="text"
                    class="w-full rounded-full h-9 px-8 border border-gray-400 placeholder:text-sm outline-none"
                    placeholder="Search..." />
                <img src="./assets/search.png" class="absolute top-[35px] w-5 left-[79px] " />
            </div>
            <div class="h-9 w-9 rounded-full flex items-center justify-center bg-[#3890fc] text-white ">
                <p class=" text-3xl">
                    Z
                </p>
            </div>
        </div>
        <ul class="w-full flex justify-evenly md:justify-between p-1 overflow-hidden">
            <li class="text-gray-500 text-sm md:text-lg hover:text-black hover:border-b-4 border-[#FFC240]"
                onclick="alertWind()" id="navbar">Category</li>
            <li class="text-gray-500 text-sm md:text-lg hover:text-black hover:border-b-4 border-[#FFC240]">Free</li>
            <li class="text-gray-500 text-sm md:text-lg hover:text-black hover:border-b-4 border-[#FFC240]">Updates</li>
            <li class="text-gray-500 text-sm md:text-lg hover:text-black hover:border-b-4 border-[#FFC240]">Profile</li>
        </ul>
    </div>

    <!-- DESKTOP NAVBAR -->
    <div class="hidden md:flex flex-col h-20 w-full border-b-[1px] border-gray-400">
        <div class="flex items-center justify-center gap-5 p-2 w-full h-full ">
            <img src="./assets/logo-dark.png" alt="logo_mobile" class=" h-10">
            <div class="w-4/12">
                <input type="text"
                    class="w-full rounded-full h-9 px-8 border border-gray-400 placeholder:text-sm outline-none"
                    placeholder="Search..." />
                <img src="./assets/search.png" class="absolute top-[33px] w-5 left-[438px] " />
            </div>
            <div class="w-2/12 flex items-center justify-between font-light">
                <p id="increment">Subscribe</p>
                <p>Discord</p>
                <img src="./assets//menu.png" class="w-8" />
            </div>
        </div>
    </div>





    <!-- BOOK DETAIL -->
    <!-- Book name & image -->
    <div class="w-full lg:w-[85%] mx-auto shadow-xl rounded-2xl">
        <div class=" flex flex-col items-center justify-around lg:justify-between px-3 md:p-12 mx-auto mt-5 md:mt-0">
            <div class="w-full flex items-center justify-around lg:justify- ">
                <img src="./assets/Images/cover.png" class="rounded-md h-28  md:h-64 md:mr-0 mr-5 animate-pulse"
                    id="cover-img">
                <div class="flex flex-col md:space-y-5 top-0">
                    <p class=" md:text-2xl font-semibold w-48 md:w-full" id="title">The Invisible Rich Man</p>
                    <div
                        class="bg-[#EBEBEB] hidden md:flex items-center justify-between mt-3 lg:mt-0 lg:px-10 lg:py-4 px-4 py-2 rounded-full">
                        <div class="flex items-center space-x-3 justify-center">
                            <img src="./assets/Images/Categories Icon.svg" alt="" class="h-3 w-3 lg:h-5 lg:w-5">
                            <p
                                class="text-left  text-nowrap overflow-hidden text-ellipsis text-xs lg:text-base xl:text-lg lg:w-full">
                                Modern Life
                            </p>
                        </div>
                        <div class="flex items-center space-x-3 justify-center px-10">
                            <i class="fa-solid fa-clock  text-xs lg:text-lg "></i>
                            <p
                                class="text-left  text-nowrap overflow-hidden text-ellipsis text-xs lg:text-base xl:text-lg lg:w-full">
                                Last Updated: Yesterday 12:38AM
                            </p>
                            <img src="./assets/question-icon.png" alt="" class="h-3 w-3 lg:h-5 lg:w-5">
                        </div>
                        <div class="flex items-center space-x-3 justify-center">
                            <img src="./assets/book-icon-mobile.png" alt="" class="h-3 w-3 lg:h-5 lg:w-5">
                            <p class="text-left  text-nowrap overflow-hidden text-ellipsis text-xs lg:text-base xl:text-lg lg:w-full chapters-count"
                                id="chapter">
                                2769 Chapters
                            </p>
                        </div>
                    </div>
                    <div class="flex items-center space-x-2 md:space-x-5">
                        <div class="flex items-center md:space-x-2">
                            <img src="./assets/star.png" alt="" srcset="" class="h-4 w-4 md:h-7 md:w-7">
                            <img src="./assets/star.png" alt="" srcset="" class="h-4 w-4 md:h-7 md:w-7">
                            <img src="./assets/star.png" alt="" srcset="" class="h-4 w-4 md:h-7 md:w-7">
                            <img src="./assets/star.png" alt="" srcset="" class="h-4 w-4 md:h-7 md:w-7">
                            <img src="./assets/star.png" alt="" srcset="" class="h-4 w-4 md:h-7 md:w-7">

                        </div>
                        <p class="font-bold text-lg" id="rating">
                            2.8
                        </p>
                        <p class="text-xs text-[#BEC0C1]">
                            4 RATING
                        </p>
                    </div>
                    <div class="flex items-center space-x-3 my-3 md:my-0" id="readBook">
                        <button onclick="readBookPage()"
                            class="md:px-7 md:py-3 px-3 py-2 flex items-center justify-center rounded-full bg-gray-900 text-xs font-bold text-white">READ
                            NOW</button>
                        <!-- <div class="bg-[#EBEBEB] h-6 w-6 md:h-10 md:w-10 rounded-full flex items-center justify-center">
                            <i class="fa-regular fa-heart text-xs md:w-5 mx-auto items-center"></i>
                        </div> -->
                        <div class="bg-[#EBEBEB] h-6 w-6 md:h-10 md:w-10 rounded-full flex items-center justify-center">
                            <i class="fa-regular fa-heart text-xs md:text-base"></i>
                        </div>
                    </div>
                </div>
            </div>
            <div
                class="bg-[#EBEBEB] w-full flex items-center justify-between px-3 py-2 md:px-10 md:py-4 rounded-full md:hidden">
                <div class="flex items-start md:space-x-3 space-x-1 justify-center">
                    <img src="./assets/Images/Categories Icon.svg" alt="" class="h-3 w-3 md:h-5 md:w-5">
                    <p class="text-xs md:text-lg text-left  text-nowrap overflow-hidden text-ellipsis w-12 md:w-full">
                        Modern Life
                    </p>
                </div>
                <div class="flex items-center md:space-x-3 space-x-1 justify-center md:px-10">
                    <i class="fa-solid fa-clock  text-xs md:text-lg "></i>
                    <p class="md:text-lg text-left  text-nowrap overflow-hidden text-ellipsis text-xs w-16 md:w-full">
                        Last Updated: Yesterday 12:38AM
                    </p>
                    <img src="./assets/question-icon.png" alt="" class="h-2 w-2 md:h-5 md:w-5">
                </div>
                <div class="flex items-center md:space-x-3 space-x-1 justify-center">
                    <img src="./assets/book-icon-mobile.png" alt="" class="h-2 w-2 md:h-5 md:w-5">
                    <p class="text-xs md:text-lg text-left  text-nowrap overflow-hidden text-ellipsis chapters-count"
                        id="chapters">
                        Chapters
                    </p>
                </div>
            </div>
        </div>
        <div class="flex ml-5 mt-3 md:mt-0 md:ml-20 mb-5 cursor-pointer">
            <b onclick="handleData()">
                ABOUT
            </b>
            <p class="ml-5" onclick="handleTableContent()">
                TABLE OF CONTENT
            </p>
        </div>
    </div>
    <div class="w-[85%]">
        <!-- about start-->
        <div id="about">
            <!-- Description -->
            <div class=" my-12">
                <b class="text-2xl">
                    Description
                </b>
                <p class="my-4" id="description">
                    Gerald was a poor college student with no money. Suddenly a phone call from his sister changed
                    everything...
                    Was he really the richest and most powerful person in the city?
                </p>
            </div>
            <!-- Recommended Reads -->
            <div class=" mb-20">
                <b class="text-2xl">
                    Recommended Reads
                </b>

            </div>
            <!-- Reviews -->
            <div class="w-full md:w-[85%] mb-8">
                <b class="text-2xl hidden md:block">
                    Reviews
                </b>
                <hr class="mt-6 text-black">
                <div class="flex flex-col  md:flex md:flex-row ">
                    <div class="flex flex-col items-center space-y-4 w-full md:w-[50%] py-10">
                        <b class="text-xl">
                            Rate This Novel
                        </b>
                        <div class="bg-[#EBEBEB] inline-block px-4 py-3 rounded-full">
                            <div class="flex items-center space-x-2 md:space-x-3">
                                <img src="./assets/star.png" alt="" srcset="" class="w-6 h-6 md:h-9 md:w-9">
                                <img src="./assets/star.png" alt="" srcset="" class="w-6 h-6 md:h-9 md:w-9">
                                <img src="./assets/star.png" alt="" srcset="" class="w-6 h-6 md:h-9 md:w-9">
                                <img src="./assets/star.png" alt="" srcset="" class="w-6 h-6 md:h-9 md:w-9">
                                <img src="./assets/star.png" alt="" srcset="" class="w-6 h-6 md:h-9 md:w-9">

                            </div>
                        </div>
                        <b>
                            4 Reviews (2.8)
                        </b>
                    </div>
                    <div class="border-l h-[245px] hidden md:block">

                    </div>
                    <div class="flex flex-col w-full md:w-[50%] py-10">
                        <div class="flex justify-center md:justify-start px-5">
                            <textarea class="bg-[#EBEBEB] resize-none p-4 rounded-xl outline-none focus:ring-0"
                                cols="70" placeholder="Leave a review with a comment..."></textarea>
                        </div>
                        <p class="text-red-500 mt-2 ml-8 md:ml-10">
                            Sign in to leave a comment
                        </p>
                        <button
                            class="border-none outline-none bg-transparent mt-9 flex justify-start ml-8 md:ml-10">Sign
                            In</button>
                    </div>
                </div>
                <hr>

                <!-- comments -->
                <b class="text-2xl px-4  block md:hidden">
                    Reviews
                </b>
                <!-- COMMENTS LIST -->
                <div class="w-full flex flex-col ">

                    <div class="px-5 md:px-0">
                        <div class="my-6 flex items-center space-x-6 ">
                            <img src="./assets/Images/dp-placeholder.jpg" alt="" srcset=""
                                class="h-10 w-10 rounded-full">
                            <div class="mt-3">
                                <div class="flex items-center space-x-2">
                                    <p>
                                        Demonic Aussie#1828
                                    </p>
                                    <img src="./assets/Images/message.png" alt="" class="h-5 w-5 mt-1">
                                </div>
                                <i class="fa-solid fa-star text-[#FD8B2A]"></i>
                                <i class="fa-solid fa-star text-[#FD8B2A]"></i>
                                <i class="fa-solid fa-star text-[#FD8B2A]"></i>
                                <i class="fa-solid fa-star text-[#FD8B2A]"></i>
                                <i class="fa-solid fa-star text-[#FD8B2A]"></i>
                            </div>
                        </div>
                        <p class="ml-16">
                            late 90's exclusive manly power story.
                        </p>
                        <p class="ml-16 my-5">
                            a year ago
                        </p>
                    </div>
                    <hr>
                    <div class="px-5 md:px-0">
                        <div class="my-6 flex items-center space-x-6">
                            <img src="./assets/Images/dp-placeholder.jpg" alt="" srcset=""
                                class="h-10 w-10 rounded-full">
                            <div class="mt-3">
                                <div class="flex items-center space-x-2">
                                    <p>
                                        Demonic Aussie#1828
                                    </p>
                                    <img src="./assets/Images/message.png" alt="" class="h-5 w-5 mt-1">
                                </div>
                                <i class="fa-solid fa-star text-[#FD8B2A]"></i>
                                <i class="fa-solid fa-star text-[#FD8B2A]"></i>
                                <i class="fa-solid fa-star text-[#FD8B2A]"></i>
                                <i class="fa-solid fa-star text-[#FD8B2A]"></i>
                                <i class="fa-solid fa-star text-gray-300"></i>
                            </div>
                        </div>
                        <p class="ml-16">
                            late 90's exclusive manly power story.
                        </p>
                        <p class="ml-16 my-5">
                            a year ago
                        </p>
                    </div>
                    <hr>
                    <div class="px-5 md:px-0">
                        <div class="my-6 flex items-center space-x-6">
                            <img src="./assets/Images/dp-placeholder.jpg" alt="" srcset=""
                                class="h-10 w-10 rounded-full">
                            <div class="mt-3">
                                <div class="flex items-center space-x-2">
                                    <p>
                                        Demonic Aussie#1828
                                    </p>
                                    <img src="./assets/Images/message.png" alt="" class="h-5 w-5 mt-1">
                                </div>
                                <i class="fa-solid fa-star text-[#FD8B2A]"></i>
                                <i class="fa-solid fa-star text-[#FD8B2A]"></i>
                                <i class="fa-solid fa-star text-[#FD8B2A]"></i>
                                <i class="fa-solid fa-star text-[#FD8B2A]"></i>
                                <i class="fa-solid fa-star text-[#FD8B2A]"></i>
                            </div>
                        </div>
                        <p class="ml-16">
                            late 90's exclusive manly power story.
                        </p>
                        <p class="ml-16 my-5">
                            a year ago
                        </p>
                    </div>
                </div>

                <hr class="mb-16">
            </div>
        </div>
        <!-- about finish -->
        <!-- table of content start -->
        <div id="tableOfContent" style="display: none;">
            <div class="container mx-auto p-4">
                <!-- <div class="flex justify-between items-center mb-4">
                    <h1 class="text-xl font-bold">Latest Release: <a href="#" class="text-blue-600">Chapter 2492</a></h1>
                    <input type="text" placeholder="search a title or number..." class="border border-gray-300 p-2 rounded">
                </div> -->
                <div class="flex justify-between mt-10 mb-5">

                    <div class="flex items-center space-x-3">
                        <p>
                            Latest Release:
                        </p>
                        <p class="text-blue-500">
                            Chapter 2492
                        </p>
                        <p>
                            a year ago
                        </p>
                    </div>
                    <div class="flex items-center space-x-5">
                        <div>
                            <input type="text" class="bg-[#EBEBEB] rounded-full w-96 py-3 px-4 outline-none"
                                placeholder="search a title or number..">
                        </div>
                        <div>
                            <i class="fa fa-filter"></i>
                        </div>
                    </div>
                </div>

                <hr class="bg-black text-black mt-5 mb-10 border-2">


                <div class="grid grid-cols-2 md:grid-cols-2 gap-y-4 gap-x-14" id="pagination">
                    <div class="bg-white p-4 rounded border-b-2 flex space-x-16">
                        <p>
                            1
                        </p>
                        <div>

                            <a href="#" class="block text-lg font-semibold mb-2">Chapter 1</a>
                            <span class="text-gray-500">a year ago</span>
                        </div>
                    </div>
                    <div class="bg-white p-4 rounded border-b-2 flex space-x-16">
                        <p>
                            2
                        </p>
                        <div>

                            <a href="#" class="block text-lg font-semibold mb-2">Chapter 1</a>
                            <span class="text-gray-500">a year ago</span>
                        </div>
                    </div>
                    <div class="bg-white p-4 rounded border-b-2 flex space-x-16">
                        <p>
                            3
                        </p>
                        <div>

                            <a href="#" class="block text-lg font-semibold mb-2">Chapter 1</a>
                            <span class="text-gray-500">a year ago</span>
                        </div>
                    </div>
                    <div class="bg-white p-4 rounded border-b-2 flex space-x-16">
                        <p>
                            4
                        </p>
                        <div>

                            <a href="#" class="block text-lg font-semibold mb-2">Chapter 1</a>
                            <span class="text-gray-500">a year ago</span>
                        </div>
                    </div>

                </div>
            </div>
        </div>
        <!-- table of content finish -->
    </div>

    <!-- Footer -->
    <div class="bg-[#121111] w-full rounded-t-3xl md:rounded-t-none">
        <div class="w-4/5 md:mt-20 mt-10 mb-8  md:mb-12 text-[#949494] mx-auto">
            <div class="md:flex md:justify-between items-center md:text-xl">
                <b class="text-5xl font-extrabold text-white flex justify-center mx-auto md:block md:mx-0">
                    <span class="text-[#F9C559]">CS</span>novels
                </b>
                <b class="hidden md:block">
                    CATEGORIES
                </b>
                <b class="hidden md:block">
                    POPULAR
                </b>
                <b class="hidden md:block">
                    CONTACT
                </b>
                <div class="md:hidden flex justify-center mx-auto space-x-3 my-5 items-center text-sm">
                    <p>
                        CATEGORIES
                    </p>
                    <p>
                        CONTACT
                    </p>
                </div>
            </div>
            <div class="flex md:justify-between justify-center items-center md:-ml-16">
                <div>
                    <div class="flex items-center justify-center my-4 md:my-7 md:mr-10 space-x-3">
                        <i class="fa-brands fa-facebook text-3xl"></i>
                        <i class="fa-brands fa-discord text-3xl"></i>
                    </div>
                    <div class=" flex flex-col justify-center mx-auto text-center">
                        <p class="text-base md:text-lg mb-3 md:mb-0">
                            Copyright © 2021 CSnovels.com
                        </p>
                        <p class="text-xs md:text-lg">
                            PRIVACY POLICY • TERMS OF SERVICE
                        </p>
                    </div>
                </div>
                <div class="font-bold hidden md:block -ml-10">
                    <p>
                        Urban
                    </p>
                    <p>
                        Eastern
                    </p>
                    <p>
                        Sci-Fi
                    </p>
                    <p>
                        Romance
                    </p>
                </div>
                <div class="font-extrabold text-xs hidden md:block text-[#121111]">
                    <p>
                        Contact Us
                    </p>
                    <p>
                        Support
                    </p>
                    <p>
                        Discard
                    </p>
                </div>
                <div class="font-bold hidden md:block text-sm">
                    <p>
                        Contact Us
                    </p>
                    <p>
                        Support
                    </p>
                    <p>
                        Discard
                    </p>
                </div>
            </div>
        </div>
    </div>

    <script>
        const currentUrl = window.location.search; // Get the full current URL
        const searchParm = new URLSearchParams(currentUrl)
        const parmValue = searchParm.get('book')
        console.log(parmValue, "parmValue");
        let result = currentUrl.indexOf("book")
        console.log(result)
        async function getCurrentBook() {
            try {
                const data = await fetch(`../.netlify/functions/getSingleBook?slug=${parmValue}`)
                let result = await data.json()
                let response = result?.book
                // console.log("RESPONSE", response)
                document.getElementById("title").innerHTML = response?.title

                document.getElementById("cover-img").src = response?.coverimage
                document.getElementById("cover-img").classList.remove("animate-pulse")

                document.getElementById("description").innerHTML = response?.description
                document.getElementById("chapters").innerHTML = response?.chaptercount
                document.getElementById("chapter").innerHTML = response?.chaptercount
            } catch (error) {
                console.log("ERROR IN REQ", error)
            }


        }
        getCurrentBook()
        // console.log("RESULLLTTT", result)

        // document.getElementById("cover-img").src = result?.coverimage


        function readBookPage() {
            window.location = `${parmValue}/chapter-3`
        }

        function handleData() {
            let tableId = document.getElementById("about")
            let contentId = document.getElementById("tableOfContent")
            tableId.style.display = "block";
            contentId.style.display = "none"

        }
       


    </script>
    <script src="./staticSingleBook.js">

    </script>
</body>

</html>